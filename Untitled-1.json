#user  nobody;

worker_processes  1;

 

#error_log  logs/error.log;

#error_log  logs/error.log  notice;

#error_log  logs/error.log  info;

 

#pid        logs/nginx.pid;

 

 

events {

    worker_connections  1024;

}

 

 

http {

    include       mime.types;

    default_type  application/octet-stream;

 

    sendfile        on;

 

    keepalive_timeout  65;

 

    server {

        listen       80;

        server_name  xxxx.xyz;

        rewrite ^(.*) https://xxxx.xyz$1 permanent;

 

        location / {

            root   html;

            index  index.html index.htm;

        }

        

    }

 

    server {

        listen       443 ssl;

        server_name  xxxx.xyz;

        client_max_body_size  500m;

 

        ssl_certificate      "/root/bitwarden/3027402_xxxx.xyz.pem";

        ssl_certificate_key  "/root/bitwarden/3027402_xxxx.xyz.key";

 

        ssl_session_cache    shared:SSL:1m;

        ssl_session_timeout  5m;

 

        ssl_ciphers  HIGH:!aNULL:!MD5;

        ssl_prefer_server_ciphers  on;

 

        location / {

            root   html;

            index  index.html index.htm;

            proxy_pass http://127.0.0.1:6666;

                proxy_set_header Host $host;

                                    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

        }

    }

 

}