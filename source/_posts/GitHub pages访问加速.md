---
title: 关于GitHub pages访问加速
tags:
  - hexo
categories: hexo
copyright: true
abbrlink: 40ae08c3
date: 2018-03-29 09:33:43
password:
---

&emsp; &emsp; 博客搭建好后，一直托管在GitHub上，由于服务器在国外的原因，访问速度一直不是很好，但是也没什么人看，就没有管，最近几天突然发现断流严重（可能是墙又加高了吧:sweat:），就决定花点时间解决一下。

&emsp; &emsp; 前后折腾了好久（两三天吧），尝试了不同的解决方案。费时间的原因主要还是域名解析一次最少要10分钟或更久，还有就是想找一个免费的解决方案，付费的话，这个事根本就不是事（贫穷限制了我的······:joy:）。

### 尝试过的一些方法：
#### coding

&emsp; &emsp;首先想到的是找一个类似GitHub的托管平台，然后就找到了本地化比较好的coding，coding可以说是完全模仿GitHub做的一个平台，由于服务器在国内，访速度很快，且支持中文。

&emsp; &emsp;一番折腾，把网站上传到了仓库，成功开启了pages服务，然后就遇到了很坑的事，不能绑定自己的域名，要升级一个银牌会员才能，还好不花钱，只是补全信息就行，终于，补全信息并成功解析，浏览器输入域名，秒开，嗯······什么鬼？怎么不是我的网站，竟然被插入了跳转广告，看了一下官方文档，想要除去广告，要么花钱冲会员要么在网站首页放coding的跳转链接，冲会员是不可能的，广告？也是不可能的！:relieved: **coding被放弃······**

#### 码云

&emsp; &emsp;码云也是国内的一个代码托管平台，这个平台呢，发现它每个项目的ssh公钥是可以分开设置的，直接上传一个公钥，不指定到项目的画是不能够访问的，这个地方耗费了不少时间才解决，然后更麻烦的事来了，码云的用户地址和用户名竟然是不同的，按照用户名创建的仓库，开启pages服务后，是不能用`用户名.gitee.io`去访问的，只能用项目地址去访问，只有通过用户地址创建的仓库，才能用`.io`的后缀去访问。

&emsp; &emsp;又是一通折腾，一切就绪，接下来就是访问测试，然后就是不断的404，百度了一下，原来码云不支持CNAME解析，但好在没广告啊，不就一个跳转问题嘛，没有CNAME解析，还有`301/302/url隐性/rul显性`等各种跳转么，想办法搞定就是了。

&emsp; &emsp;看了下腾讯云的控制台，支持url跳转，显性的会改地址，改了后加独立域名的效果等于没加，选个隐性的吧，竟然要600块。不能用现成的，另外想办法啦，正好手上有一台腾讯云的服务器（最低配，做个跳转应该是足够了），上网找一下隐性跳转的原理，自己写一个跳转页面吧。


&emsp; &emsp;又是······  跳转有了，成功打开网站，速度不错，嗯，貌似没有什么问题，应该可以收工了。咦？点页面怎么地址栏没变化啊？这是个大问题呀！然后查代码，不能动态实时生成跳转链接，暂时找不到什么好的解决办法（水平不够），:relieved: **码云被放弃······**


----------
&emsp; &emsp;陆续又尝试了一些DNS加速啥的，效果也不是很理想，偶然看到了CDN，就尝试一下，下面谈谈CDN。

----------

&emsp; &emsp;图片和音乐啥的一直都在七牛云上放着，一直一来速度也不错，然后就想到了用它家的融合CDN，一通配置调试后，速度还不错，	但是七牛云的https加密认证要钱啊，本着免费为先的原则，又看到了腾讯的CDN，免费流量多呀，很迅速就转到了腾讯云的CDN节点，但那个访问速度的确是不敢恭维:broken_heart:，而且还不支持https（是绑定了证书没起作用，不知道问题出在哪），最终还是又换回了七牛云······

### 附。。。

####  隐性跳转链接
```
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gbk" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<title></title></head>
<frameset rows="100%" border="0" frameborder="0" framespacing="0" framecolor="#000000"><frame src="http://www.singlelovely.cn/"  scrolling="auto"></frameset><noframes><body><script language='javascript'>document.location = 'http://www.singlelovely.cn/'</script></body></noframes>
</html>
```
#### SSL证书

腾讯云的免费DV证书-------最多申请20个，http强制转换https，计费0.28/GB:star:

#### 收录
Google 好像没有干什么就被收录了，百度的话，GitHub拒绝了百度抓取，提交了也没什么用

#### 关于解析

国内解析到七牛云的CDN节点，CDN节点每天零点自动刷新缓存
国外直接解析到GitHub库，实时更新缓存